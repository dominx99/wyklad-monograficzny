<?php

declare(strict_types=1);

namespace App\Service\TableProvider;

final class DixonTable
{
    public const SCORES = [
        3 => ["0.9" => 0.941, "0.95" => 0.97, "0.99" => 0.994],
        4 => ["0.9" => 0.765, "0.95" => 0.829, "0.99" => 0.926],
        5 => ["0.9" => 0.642, "0.95" => 0.71, "0.99" => 0.821],
        6 => ["0.9" => 0.56, "0.95" => 0.625, "0.99" => 0.74],
        7 => ["0.9" => 0.507, "0.95" => 0.568, "0.99" => 0.68],
        8 => ["0.9" => 0.468, "0.95" => 0.526, "0.99" => 0.634],
        9 => ["0.9" => 0.437, "0.95" => 0.493, "0.99" => 0.598],
        10 => ["0.9" => 0.412, "0.95" => 0.466, "0.99" => 0.568],
        11 => ["0.9" => 0.392, "0.95" => 0.444, "0.99" => 0.542],
        12 => ["0.9" => 0.376, "0.95" => 0.426, "0.99" => 0.522],
        13 => ["0.9" => 0.361, "0.95" => 0.41, "0.99" => 0.503],
        14 => ["0.9" => 0.349, "0.95" => 0.396, "0.99" => 0.488],
        15 => ["0.9" => 0.338, "0.95" => 0.384, "0.99" => 0.475],
        16 => ["0.9" => 0.329, "0.95" => 0.374, "0.99" => 0.463],
        17 => ["0.9" => 0.32, "0.95" => 0.365, "0.99" => 0.453],
        18 => ["0.9" => 0.313, "0.95" => 0.356, "0.99" => 0.444],
        19 => ["0.9" => 0.306, "0.95" => 0.349, "0.99" => 0.436],
        20 => ["0.9" => 0.3, "0.95" => 0.342, "0.99" => 0.429],
        21 => ["0.9" => 0.295, "0.95" => 0.337, "0.99" => 0.422],
        22 => ["0.9" => 0.29, "0.95" => 0.332, "0.99" => 0.416],
        23 => ["0.9" => 0.285, "0.95" => 0.328, "0.99" => 0.411],
        24 => ["0.9" => 0.281, "0.95" => 0.324, "0.99" => 0.406],
        25 => ["0.9" => 0.277, "0.95" => 0.32, "0.99" => 0.402],
        26 => ["0.9" => 0.273, "0.95" => 0.317, "0.99" => 0.398],
        27 => ["0.9" => 0.269, "0.95" => 0.314, "0.99" => 0.394],
        28 => ["0.9" => 0.266, "0.95" => 0.311, "0.99" => 0.391],
        29 => ["0.9" => 0.263, "0.95" => 0.308, "0.99" => 0.388],
        30 => ["0.9" => 0.26, "0.95" => 0.305, "0.99" => 0.385],
        31 => ["0.9" => 0.257, "0.95" => 0.303, "0.99" => 0.382],
        32 => ["0.9" => 0.255, "0.95" => 0.3, "0.99" => 0.38],
        33 => ["0.9" => 0.252, "0.95" => 0.298, "0.99" => 0.377],
        34 => ["0.9" => 0.25, "0.95" => 0.296, "0.99" => 0.375],
        35 => ["0.9" => 0.248, "0.95" => 0.294, "0.99" => 0.373],
        36 => ["0.9" => 0.246, "0.95" => 0.292, "0.99" => 0.371],
        37 => ["0.9" => 0.244, "0.95" => 0.29, "0.99" => 0.369],
        38 => ["0.9" => 0.242, "0.95" => 0.289, "0.99" => 0.367],
        39 => ["0.9" => 0.241, "0.95" => 0.287, "0.99" => 0.365],
        40 => ["0.9" => 0.239, "0.95" => 0.286, "0.99" => 0.363],
        41 => ["0.9" => 0.238, "0.95" => 0.284, "0.99" => 0.362],
        42 => ["0.9" => 0.237, "0.95" => 0.283, "0.99" => 0.36],
        43 => ["0.9" => 0.236, "0.95" => 0.282, "0.99" => 0.358],
        44 => ["0.9" => 0.234, "0.95" => 0.281, "0.99" => 0.357],
        45 => ["0.9" => 0.233, "0.95" => 0.28, "0.99" => 0.355],
        46 => ["0.9" => 0.232, "0.95" => 0.279, "0.99" => 0.354],
        47 => ["0.9" => 0.231, "0.95" => 0.278, "0.99" => 0.353],
        48 => ["0.9" => 0.23, "0.95" => 0.277, "0.99" => 0.351],
        49 => ["0.9" => 0.229, "0.95" => 0.276, "0.99" => 0.35],
        50 => ["0.9" => 0.228, "0.95" => 0.275, "0.99" => 0.349],
        51 => ["0.9" => 0.227, "0.95" => 0.274, "0.99" => 0.348],
        52 => ["0.9" => 0.226, "0.95" => 0.274, "0.99" => 0.347],
        53 => ["0.9" => 0.225, "0.95" => 0.273, "0.99" => 0.346],
        54 => ["0.9" => 0.224, "0.95" => 0.273, "0.99" => 0.345],
    ];

    public static function getScore(int $n, string $alpha): float
    {
        if (!isset(self::SCORES[$n][$alpha])) {
            throw new \InvalidArgumentException(sprintf('Invalid n=%d or alpha=%s', $n, $alpha));
        }

        return self::SCORES[$n][$alpha];
    }
}
